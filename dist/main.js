!function(){"use strict";!function(){var n=1e-6,t=1e-12,i=Math.PI,r=i/2,e=i/4,o=2*i,u=180/i,l=i/180,a=Math.abs,f=Math.atan,c=Math.atan2,s=Math.cos,p=(Math.ceil,Math.exp,Math.floor,Math.hypot,Math.log,Math.pow,Math.sin),h=Math.sign||function(n){return n>0?1:n<0?-1:0},d=Math.sqrt;function v(n){return n>1?r:n<-1?-r:Math.asin(n)}function g(){}function S(){var n,t=[];return{point:function(t,i,r){n.push([t,i,r])},lineStart:function(){t.push(n=[])},lineEnd:g,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var i=t;return t=[],n=null,i}}}function y(t,i){return a(t[0]-i[0])<n&&a(t[1]-i[1])<n}function E(n,t,i,r){this.x=n,this.z=t,this.o=i,this.e=r,this.v=!1,this.n=this.p=null}function _(t,i,r,e,o){var u,l,a=[],f=[];if(t.forEach((function(t){if(!((i=t.length-1)<=0)){var i,r,e=t[0],l=t[i];if(y(e,l)){if(!e[2]&&!l[2]){for(o.lineStart(),u=0;u<i;++u)o.point((e=t[u])[0],e[1]);return void o.lineEnd()}l[0]+=2*n}a.push(r=new E(e,t,null,!0)),f.push(r.o=new E(e,null,r,!1)),a.push(r=new E(l,t,null,!1)),f.push(r.o=new E(l,null,r,!0))}})),a.length){for(f.sort(i),m(a),m(f),u=0,l=f.length;u<l;++u)f[u].e=r=!r;for(var c,s,p=a[0];;){for(var h=p,d=!0;h.v;)if((h=h.n)===p)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(u=0,l=c.length;u<l;++u)o.point((s=c[u])[0],s[1]);else e(h.x,h.n.x,1,o);h=h.n}else{if(d)for(c=h.p.z,u=c.length-1;u>=0;--u)o.point((s=c[u])[0],s[1]);else e(h.x,h.p.x,-1,o);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);o.lineEnd()}}}function m(n){if(t=n.length){for(var t,i,r=0,e=n[0];++r<t;)e.n=i=n[r],i.p=e,e=i;e.n=i=n[0],i.p=e}}Math.tan;class M{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const t=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const e=t[r],o=n+e,u=Math.abs(n)<Math.abs(e)?n-(o-e):e-(o-n);u&&(t[i++]=u),n=o}return t[i]=n,this._n=i+1,this}valueOf(){const n=this._partials;let t,i,r,e=this._n,o=0;if(e>0){for(o=n[--e];e>0&&(t=o,i=n[--e],o=t+i,r=i-(o-t),!r););e>0&&(r<0&&n[e-1]<0||r>0&&n[e-1]>0)&&(i=2*r,t=o+i,i==t-o&&(o=t))}return o}}function w(n){return[c(n[1],n[0]),v(n[2])]}function x(n){var t=n[0],i=n[1],r=s(i);return[r*s(t),r*p(t),p(i)]}function N(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function b(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function P(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function $(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function L(n){var t=d(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function R(n){return a(n[0])<=i?n[0]:h(n[0])*((a(n[0])+i)%o-i)}function k(u,l){var a=R(l),f=l[1],h=p(f),d=[p(a),-s(a),0],g=0,S=0,y=new M;1===h?f=r+n:-1===h&&(f=-r-n);for(var E=0,_=u.length;E<_;++E)if(w=(m=u[E]).length)for(var m,w,N=m[w-1],P=R(N),$=N[1]/2+e,k=p($),C=s($),j=0;j<w;++j,P=T,k=G,C=O,N=z){var z=m[j],T=R(z),F=z[1]/2+e,G=p(F),O=s(F),X=T-P,Y=X>=0?1:-1,A=Y*X,V=A>i,W=k*G;if(y.add(c(W*Y*p(A),C*O+W*s(A))),g+=V?X+Y*o:X,V^P>=a^T>=a){var q=b(x(N),x(z));L(q);var B=b(d,q);L(B);var D=(V^X>=0?-1:1)*v(B[2]);(f>D||f===D&&(q[0]||q[1]))&&(S+=V^X>=0?1:-1)}}return(g<-n||g<n&&y<-t)^1&S}function C(n){return Array.from(function*(n){for(const t of n)yield*t}(n))}function j(n,t,i,r){return function(e){var o,u,l,a=t(e),f=S(),c=t(f),s=!1,p={point:h,lineStart:v,lineEnd:g,polygonStart:function(){p.point=y,p.lineStart=E,p.lineEnd=m,u=[],o=[]},polygonEnd:function(){p.point=h,p.lineStart=v,p.lineEnd=g,u=C(u);var n=k(o,r);u.length?(s||(e.polygonStart(),s=!0),_(u,T,n,i,e)):n&&(s||(e.polygonStart(),s=!0),e.lineStart(),i(null,null,1,e),e.lineEnd()),s&&(e.polygonEnd(),s=!1),u=o=null},sphere:function(){e.polygonStart(),e.lineStart(),i(null,null,1,e),e.lineEnd(),e.polygonEnd()}};function h(t,i){n(t,i)&&e.point(t,i)}function d(n,t){a.point(n,t)}function v(){p.point=d,a.lineStart()}function g(){p.point=h,a.lineEnd()}function y(n,t){l.push([n,t]),c.point(n,t)}function E(){c.lineStart(),l=[]}function m(){y(l[0][0],l[0][1]),c.lineEnd();var n,t,i,r,a=c.clean(),p=f.result(),h=p.length;if(l.pop(),o.push(l),l=null,h)if(1&a){if((t=(i=p[0]).length-1)>0){for(s||(e.polygonStart(),s=!0),e.lineStart(),n=0;n<t;++n)e.point((r=i[n])[0],r[1]);e.lineEnd()}}else h>1&&2&a&&p.push(p.pop().concat(p.shift())),u.push(p.filter(z))}return p}}function z(n){return n.length>1}function T(t,i){return((t=t.x)[0]<0?t[1]-r-n:r-t[1])-((i=i.x)[0]<0?i[1]-r-n:r-i[1])}var F=j((function(){return!0}),(function(t){var e,o=NaN,u=NaN,l=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(c,h){var d=c>0?i:-i,v=a(c-o);a(v-i)<n?(t.point(o,u=(u+h)/2>0?r:-r),t.point(l,u),t.lineEnd(),t.lineStart(),t.point(d,u),t.point(c,u),e=0):l!==d&&v>=i&&(a(o-l)<n&&(o-=l*n),a(c-d)<n&&(c-=d*n),u=function(t,i,r,e){var o,u,l=p(t-r);return a(l)>n?f((p(i)*(u=s(e))*p(r)-p(e)*(o=s(i))*p(t))/(o*u*l)):(i+e)/2}(o,u,c,h),t.point(l,u),t.lineEnd(),t.lineStart(),t.point(d,u),e=0),t.point(o=c,u=h),l=d},lineEnd:function(){t.lineEnd(),o=u=NaN},clean:function(){return 2-e}}}),(function(t,e,o,u){var l;if(null==t)l=o*r,u.point(-i,l),u.point(0,l),u.point(i,l),u.point(i,0),u.point(i,-l),u.point(0,-l),u.point(-i,-l),u.point(-i,0),u.point(-i,l);else if(a(t[0]-e[0])>n){var f=t[0]<e[0]?i:-i;l=o*f/2,u.point(-f,l),u.point(0,l),u.point(f,l)}else u.point(e[0],e[1])}),[-i,-r]);function G(t,r){(r=x(r))[0]-=t,L(r);var e,u=(e=-r[1])>1?0:e<-1?i:Math.acos(e);return((-r[2]<0?-u:u)+o-n)%o}var O=1e9,X=-O;function Y(n,t){function i(i,r){return i=n(i,r),t(i[0],i[1])}return n.invert&&t.invert&&(i.invert=function(i,r){return(i=t.invert(i,r))&&n.invert(i[0],i[1])}),i}var A=n=>n;function V(n,t){return a(n)>i&&(n-=Math.round(n/o)*o),[n,t]}function W(n){return function(t,r){return a(t+=n)>i&&(t-=Math.round(t/o)*o),[t,r]}}function q(n){var t=W(n);return t.invert=W(-n),t}function B(n,t){var i=s(n),r=p(n),e=s(t),o=p(t);function u(n,t){var u=s(t),l=s(n)*u,a=p(n)*u,f=p(t),h=f*i+l*r;return[c(a*e-h*o,l*i-f*r),v(h*e+a*o)]}return u.invert=function(n,t){var u=s(t),l=s(n)*u,a=p(n)*u,f=p(t),h=f*e-a*o;return[c(a*e+f*o,l*i+h*r),v(h*i-l*r)]},u}function D(n){return function(t){var i=new H;for(var r in n)i[r]=n[r];return i.stream=t,i}}function H(){}function I(n,t){n&&J.hasOwnProperty(n.type)&&J[n.type](n,t)}V.invert=V,H.prototype={constructor:H,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Z={Feature:function(n,t){I(n.geometry,t)},FeatureCollection:function(n,t){for(var i=n.features,r=-1,e=i.length;++r<e;)I(i[r].geometry,t)}},J={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var i=n.coordinates,r=-1,e=i.length;++r<e;)n=i[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){K(n.coordinates,t,0)},MultiLineString:function(n,t){for(var i=n.coordinates,r=-1,e=i.length;++r<e;)K(i[r],t,0)},Polygon:function(n,t){Q(n.coordinates,t)},MultiPolygon:function(n,t){for(var i=n.coordinates,r=-1,e=i.length;++r<e;)Q(i[r],t)},GeometryCollection:function(n,t){for(var i=n.geometries,r=-1,e=i.length;++r<e;)I(i[r],t)}};function K(n,t,i){var r,e=-1,o=n.length-i;for(t.lineStart();++e<o;)r=n[e],t.point(r[0],r[1],r[2]);t.lineEnd()}function Q(n,t){var i=-1,r=n.length;for(t.polygonStart();++i<r;)K(n[i],t,1);t.polygonEnd()}function U(n,t){n&&Z.hasOwnProperty(n.type)?Z[n.type](n,t):I(n,t)}var nn=1/0,tn=nn,rn=-nn,en=rn,on={point:function(n,t){n<nn&&(nn=n),n>rn&&(rn=n),t<tn&&(tn=t),t>en&&(en=t)},lineStart:g,lineEnd:g,polygonStart:g,polygonEnd:g,result:function(){var n=[[nn,tn],[rn,en]];return rn=en=-(tn=nn=1/0),n}},un=on;function ln(n,t,i){var r=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=r&&n.clipExtent(null),U(i,n.stream(un)),t(un.result()),null!=r&&n.clipExtent(r),n}function an(n,t,i){return ln(n,(function(i){var r=t[1][0]-t[0][0],e=t[1][1]-t[0][1],o=Math.min(r/(i[1][0]-i[0][0]),e/(i[1][1]-i[0][1])),u=+t[0][0]+(r-o*(i[1][0]+i[0][0]))/2,l=+t[0][1]+(e-o*(i[1][1]+i[0][1]))/2;n.scale(150*o).translate([u,l])}),i)}var fn=16,cn=s(30*l);function sn(t,i){return+i?function(t,i){function r(e,o,u,l,f,s,p,h,g,S,y,E,_,m){var M=p-e,w=h-o,x=M*M+w*w;if(x>4*i&&_--){var N=l+S,b=f+y,P=s+E,$=d(N*N+b*b+P*P),L=v(P/=$),R=a(a(P)-1)<n||a(u-g)<n?(u+g)/2:c(b,N),k=t(R,L),C=k[0],j=k[1],z=C-e,T=j-o,F=w*z-M*T;(F*F/x>i||a((M*z+w*T)/x-.5)>.3||l*S+f*y+s*E<cn)&&(r(e,o,u,l,f,s,C,j,R,N/=$,b/=$,P,_,m),m.point(C,j),r(C,j,R,N,b,P,p,h,g,S,y,E,_,m))}}return function(n){var i,e,o,u,l,a,f,c,s,p,h,d,v={point:g,lineStart:S,lineEnd:E,polygonStart:function(){n.polygonStart(),v.lineStart=_},polygonEnd:function(){n.polygonEnd(),v.lineStart=S}};function g(i,r){i=t(i,r),n.point(i[0],i[1])}function S(){c=NaN,v.point=y,n.lineStart()}function y(i,e){var o=x([i,e]),u=t(i,e);r(c,s,f,p,h,d,c=u[0],s=u[1],f=i,p=o[0],h=o[1],d=o[2],fn,n),n.point(c,s)}function E(){v.point=g,n.lineEnd()}function _(){S(),v.point=m,v.lineEnd=M}function m(n,t){y(i=n,t),e=c,o=s,u=p,l=h,a=d,v.point=y}function M(){r(c,s,f,p,h,d,e,o,i,u,l,a,fn,n),v.lineEnd=E,E()}return v}}(t,i):function(n){return D({point:function(t,i){t=n(t,i),this.stream.point(t[0],t[1])}})}(t)}var pn,hn=D({point:function(n,t){this.stream.point(n*l,t*l)}});function dn(n,t,i,r,e,o){if(!o)return function(n,t,i,r,e){function o(o,u){return[t+n*(o*=r),i-n*(u*=e)]}return o.invert=function(o,u){return[(o-t)/n*r,(i-u)/n*e]},o}(n,t,i,r,e);var u=s(o),l=p(o),a=u*n,f=l*n,c=u/n,h=l/n,d=(l*i-u*t)/n,v=(l*t+u*i)/n;function g(n,o){return[a*(n*=r)-f*(o*=e)+t,i-f*n-a*o]}return g.invert=function(n,t){return[r*(c*n-h*t+d),e*(v-h*n-c*t)]},g}function vn(n,t){return[s(t)*p(n),p(t)]}vn.invert=(pn=v,function(n,t){var i=d(n*n+t*t),r=pn(i),e=p(r),o=s(r);return[c(n*e,i*o),v(i&&t*e/i)]});var gn,Sn,yn,En,_n=new M,mn=new M,Mn={point:g,lineStart:g,lineEnd:g,polygonStart:function(){Mn.lineStart=wn,Mn.lineEnd=bn},polygonEnd:function(){Mn.lineStart=Mn.lineEnd=Mn.point=g,_n.add(a(mn)),mn=new M},result:function(){var n=_n/2;return _n=new M,n}};function wn(){Mn.point=xn}function xn(n,t){Mn.point=Nn,gn=yn=n,Sn=En=t}function Nn(n,t){mn.add(En*n-yn*t),yn=n,En=t}function bn(){Nn(gn,Sn)}var Pn,$n,Ln,Rn,kn=Mn,Cn=0,jn=0,zn=0,Tn=0,Fn=0,Gn=0,On=0,Xn=0,Yn=0,An={point:Vn,lineStart:Wn,lineEnd:Dn,polygonStart:function(){An.lineStart=Hn,An.lineEnd=In},polygonEnd:function(){An.point=Vn,An.lineStart=Wn,An.lineEnd=Dn},result:function(){var n=Yn?[On/Yn,Xn/Yn]:Gn?[Tn/Gn,Fn/Gn]:zn?[Cn/zn,jn/zn]:[NaN,NaN];return Cn=jn=zn=Tn=Fn=Gn=On=Xn=Yn=0,n}};function Vn(n,t){Cn+=n,jn+=t,++zn}function Wn(){An.point=qn}function qn(n,t){An.point=Bn,Vn(Ln=n,Rn=t)}function Bn(n,t){var i=n-Ln,r=t-Rn,e=d(i*i+r*r);Tn+=e*(Ln+n)/2,Fn+=e*(Rn+t)/2,Gn+=e,Vn(Ln=n,Rn=t)}function Dn(){An.point=Vn}function Hn(){An.point=Zn}function In(){Jn(Pn,$n)}function Zn(n,t){An.point=Jn,Vn(Pn=Ln=n,$n=Rn=t)}function Jn(n,t){var i=n-Ln,r=t-Rn,e=d(i*i+r*r);Tn+=e*(Ln+n)/2,Fn+=e*(Rn+t)/2,Gn+=e,On+=(e=Rn*n-Ln*t)*(Ln+n),Xn+=e*(Rn+t),Yn+=3*e,Vn(Ln=n,Rn=t)}var Kn=An;function Qn(n){this._context=n}Qn.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,o)}},result:g};var Un,nt,tt,it,rt,et=new M,ot={point:g,lineStart:function(){ot.point=ut},lineEnd:function(){Un&&lt(nt,tt),ot.point=g},polygonStart:function(){Un=!0},polygonEnd:function(){Un=null},result:function(){var n=+et;return et=new M,n}};function ut(n,t){ot.point=lt,nt=it=n,tt=rt=t}function lt(n,t){it-=n,rt-=t,et.add(d(it*it+rt*rt)),it=n,rt=t}var at=ot;let ft,ct,st,pt;class ht{constructor(n){this._append=null==n?dt:function(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return dt;if(t!==ft){const n=10**t;ft=t,ct=function(t){let i=1;this._+=t[0];for(const r=t.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+t[i]}}return ct}(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(n,t){switch(this._point){case 0:this._append`M${n},${t}`,this._point=1;break;case 1:this._append`L${n},${t}`;break;default:if(this._append`M${n},${t}`,this._radius!==st||this._append!==ct){const n=this._radius,t=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,st=n,ct=this._append,pt=this._,this._=t}this._+=pt}}result(){const n=this._;return this._="",n.length?n:null}}function dt(n){let t=1;this._+=n[0];for(const i=n.length;t<i;++t)this._+=arguments[t]+n[t]}var vt,gt,St,yt,Et={sphere:g,point:g,lineStart:function(){Et.point=mt,Et.lineEnd=_t},lineEnd:g,polygonStart:g,polygonEnd:g};function _t(){Et.point=Et.lineEnd=g}function mt(n,t){gt=n*=l,St=p(t*=l),yt=s(t),Et.point=Mt}function Mt(n,t){n*=l;var i=p(t*=l),r=s(t),e=a(n-gt),o=s(e),u=r*p(e),f=yt*i-St*r*o,h=St*i+yt*r*o;vt.add(c(d(u*u+f*f),h)),gt=n,St=i,yt=r}var wt=[null,null],xt={type:"LineString",coordinates:wt};function Nt(n,t){return wt[0]=n,wt[1]=t,function(n){return vt=new M,U(n,Et),+vt}(xt)}var bt={Feature:function(n,t){return $t(n.geometry,t)},FeatureCollection:function(n,t){for(var i=n.features,r=-1,e=i.length;++r<e;)if($t(i[r].geometry,t))return!0;return!1}},Pt={Sphere:function(){return!0},Point:function(n,t){return Lt(n.coordinates,t)},MultiPoint:function(n,t){for(var i=n.coordinates,r=-1,e=i.length;++r<e;)if(Lt(i[r],t))return!0;return!1},LineString:function(n,t){return Rt(n.coordinates,t)},MultiLineString:function(n,t){for(var i=n.coordinates,r=-1,e=i.length;++r<e;)if(Rt(i[r],t))return!0;return!1},Polygon:function(n,t){return kt(n.coordinates,t)},MultiPolygon:function(n,t){for(var i=n.coordinates,r=-1,e=i.length;++r<e;)if(kt(i[r],t))return!0;return!1},GeometryCollection:function(n,t){for(var i=n.geometries,r=-1,e=i.length;++r<e;)if($t(i[r],t))return!0;return!1}};function $t(n,t){return!(!n||!Pt.hasOwnProperty(n.type))&&Pt[n.type](n,t)}function Lt(n,t){return 0===Nt(n,t)}function Rt(n,i){for(var r,e,o,u=0,l=n.length;u<l;u++){if(0===(e=Nt(n[u],i)))return!0;if(u>0&&(o=Nt(n[u],n[u-1]))>0&&r<=o&&e<=o&&(r+e-o)*(1-Math.pow((r-e)/o,2))<t*o)return!0;r=e}return!1}function kt(n,t){return!!k(n.map(Ct),jt(t))}function Ct(n){return(n=n.map(jt)).pop(),n}function jt(n){return[n[0]*l,n[1]*l]}function zt(n,t){return(n&&bt.hasOwnProperty(n.type)?bt[n.type]:$t)(n,t)}const Tt=document.querySelector("#map canvas"),Ft=Tt.getContext("2d"),Gt=Tt.offsetWidth,Ot=Tt.offsetHeight;let Xt={};const Yt={clickedLocation:null};let At=[0,0];const Vt=(Bt=vn,function(t){var r,e,f,c,h,v,g,E,m,M,L=150,R=480,k=250,z=0,T=0,W=0,H=0,I=0,Z=0,J=1,K=1,Q=null,U=F,nn=null,tn=A,rn=.5;function en(n){return E(n[0]*l,n[1]*l)}function on(n){return(n=E.invert(n[0],n[1]))&&[n[0]*u,n[1]*u]}function un(){var n=dn(L,0,0,J,K,Z).apply(null,r(z,T)),t=dn(L,R-n[0],k-n[1],J,K,Z);return e=function(n,t,i){return(n%=o)?t||i?Y(q(n),B(t,i)):q(n):t||i?B(t,i):V}(W,H,I),g=Y(r,t),E=Y(e,g),v=sn(g,rn),fn()}function fn(){return m=M=null,en}return en.stream=function(n){return m&&M===n?m:m=hn(function(n){return D({point:function(t,i){var r=n(t,i);return this.stream.point(r[0],r[1])}})}(e)(U(v(tn(M=n)))))},en.preclip=function(n){return arguments.length?(U=n,Q=void 0,fn()):U},en.postclip=function(n){return arguments.length?(tn=n,nn=f=c=h=null,fn()):tn},en.clipAngle=function(t){return arguments.length?(U=+t?function(t){var r=s(t),e=6*l,u=r>0,f=a(r)>n;function c(n,t){return s(n)*s(t)>r}function h(t,e,o){var u=[1,0,0],l=b(x(t),x(e)),f=N(l,l),c=l[0],s=f-c*c;if(!s)return!o&&t;var p=r*f/s,h=-r*c/s,v=b(u,l),g=$(u,p);P(g,$(l,h));var S=v,y=N(g,S),E=N(S,S),_=y*y-E*(N(g,g)-1);if(!(_<0)){var m=d(_),M=$(S,(-y-m)/E);if(P(M,g),M=w(M),!o)return M;var L,R=t[0],k=e[0],C=t[1],j=e[1];k<R&&(L=R,R=k,k=L);var z=k-R,T=a(z-i)<n;if(!T&&j<C&&(L=C,C=j,j=L),T||z<n?T?C+j>0^M[1]<(a(M[0]-R)<n?C:j):C<=M[1]&&M[1]<=j:z>i^(R<=M[0]&&M[0]<=k)){var F=$(S,(-y+m)/E);return P(F,g),[M,w(F)]}}}function v(n,r){var e=u?t:i-t,o=0;return n<-e?o|=1:n>e&&(o|=2),r<-e?o|=4:r>e&&(o|=8),o}return j(c,(function(n){var t,r,e,o,l;return{lineStart:function(){o=e=!1,l=1},point:function(a,s){var p,d=[a,s],g=c(a,s),S=u?g?0:v(a,s):g?v(a+(a<0?i:-i),s):0;if(!t&&(o=e=g)&&n.lineStart(),g!==e&&(!(p=h(t,d))||y(t,p)||y(d,p))&&(d[2]=1),g!==e)l=0,g?(n.lineStart(),p=h(d,t),n.point(p[0],p[1])):(p=h(t,d),n.point(p[0],p[1],2),n.lineEnd()),t=p;else if(f&&t&&u^g){var E;S&r||!(E=h(d,t,!0))||(l=0,u?(n.lineStart(),n.point(E[0][0],E[0][1]),n.point(E[1][0],E[1][1]),n.lineEnd()):(n.point(E[1][0],E[1][1]),n.lineEnd(),n.lineStart(),n.point(E[0][0],E[0][1],3)))}!g||t&&y(t,d)||n.point(d[0],d[1]),t=d,e=g,r=S},lineEnd:function(){e&&n.lineEnd(),t=null},clean:function(){return l|(o&&e)<<1}}}),(function(n,i,r,u){!function(n,t,i,r,e,u){if(i){var l=s(t),a=p(t),f=r*i;null==e?(e=t+r*o,u=t-f/2):(e=G(l,e),u=G(l,u),(r>0?e<u:e>u)&&(e+=r*o));for(var c,h=e;r>0?h>u:h<u;h-=f)c=w([l,-a*s(h),-a*p(h)]),n.point(c[0],c[1])}}(u,t,e,r,n,i)}),u?[0,-t]:[-i,t-i])}(Q=t*l):(Q=null,F),fn()):Q*u},en.clipExtent=function(t){return arguments.length?(tn=null==t?(nn=f=c=h=null,A):function(t,i,r,e){function o(n,o){return t<=n&&n<=r&&i<=o&&o<=e}function u(n,o,u,a){var f=0,s=0;if(null==n||(f=l(n,u))!==(s=l(o,u))||c(n,o)<0^u>0)do{a.point(0===f||3===f?t:r,f>1?e:i)}while((f=(f+u+4)%4)!==s);else a.point(o[0],o[1])}function l(e,o){return a(e[0]-t)<n?o>0?0:3:a(e[0]-r)<n?o>0?2:1:a(e[1]-i)<n?o>0?1:0:o>0?3:2}function f(n,t){return c(n.x,t.x)}function c(n,t){var i=l(n,1),r=l(t,1);return i!==r?i-r:0===i?t[1]-n[1]:1===i?n[0]-t[0]:2===i?n[1]-t[1]:t[0]-n[0]}return function(n){var l,a,c,s,p,h,d,v,g,y,E,m=n,M=S(),w={point:x,lineStart:function(){w.point=N,a&&a.push(c=[]),y=!0,g=!1,d=v=NaN},lineEnd:function(){l&&(N(s,p),h&&g&&M.rejoin(),l.push(M.result())),w.point=x,g&&m.lineEnd()},polygonStart:function(){m=M,l=[],a=[],E=!0},polygonEnd:function(){var i=function(){for(var n=0,i=0,r=a.length;i<r;++i)for(var o,u,l=a[i],f=1,c=l.length,s=l[0],p=s[0],h=s[1];f<c;++f)o=p,u=h,p=(s=l[f])[0],h=s[1],u<=e?h>e&&(p-o)*(e-u)>(h-u)*(t-o)&&++n:h<=e&&(p-o)*(e-u)<(h-u)*(t-o)&&--n;return n}(),r=E&&i,o=(l=C(l)).length;(r||o)&&(n.polygonStart(),r&&(n.lineStart(),u(null,null,1,n),n.lineEnd()),o&&_(l,f,i,u,n),n.polygonEnd()),m=n,l=a=c=null}};function x(n,t){o(n,t)&&m.point(n,t)}function N(n,u){var l=o(n,u);if(a&&c.push([n,u]),y)s=n,p=u,h=l,y=!1,l&&(m.lineStart(),m.point(n,u));else if(l&&g)m.point(n,u);else{var f=[d=Math.max(X,Math.min(O,d)),v=Math.max(X,Math.min(O,v))],S=[n=Math.max(X,Math.min(O,n)),u=Math.max(X,Math.min(O,u))];!function(n,t,i,r,e,o){var u,l=n[0],a=n[1],f=0,c=1,s=t[0]-l,p=t[1]-a;if(u=i-l,s||!(u>0)){if(u/=s,s<0){if(u<f)return;u<c&&(c=u)}else if(s>0){if(u>c)return;u>f&&(f=u)}if(u=e-l,s||!(u<0)){if(u/=s,s<0){if(u>c)return;u>f&&(f=u)}else if(s>0){if(u<f)return;u<c&&(c=u)}if(u=r-a,p||!(u>0)){if(u/=p,p<0){if(u<f)return;u<c&&(c=u)}else if(p>0){if(u>c)return;u>f&&(f=u)}if(u=o-a,p||!(u<0)){if(u/=p,p<0){if(u>c)return;u>f&&(f=u)}else if(p>0){if(u<f)return;u<c&&(c=u)}return f>0&&(n[0]=l+f*s,n[1]=a+f*p),c<1&&(t[0]=l+c*s,t[1]=a+c*p),!0}}}}}(f,S,t,i,r,e)?l&&(m.lineStart(),m.point(n,u),E=!1):(g||(m.lineStart(),m.point(f[0],f[1])),m.point(S[0],S[1]),l||m.lineEnd(),E=!1)}d=n,v=u,g=l}return w}}(nn=+t[0][0],f=+t[0][1],c=+t[1][0],h=+t[1][1]),fn()):null==nn?null:[[nn,f],[c,h]]},en.scale=function(n){return arguments.length?(L=+n,un()):L},en.translate=function(n){return arguments.length?(R=+n[0],k=+n[1],un()):[R,k]},en.center=function(n){return arguments.length?(z=n[0]%360*l,T=n[1]%360*l,un()):[z*u,T*u]},en.rotate=function(n){return arguments.length?(W=n[0]%360*l,H=n[1]%360*l,I=n.length>2?n[2]%360*l:0,un()):[W*u,H*u,I*u]},en.angle=function(n){return arguments.length?(Z=n%360*l,un()):Z*u},en.reflectX=function(n){return arguments.length?(J=n?-1:1,un()):J<0},en.reflectY=function(n){return arguments.length?(K=n?-1:1,un()):K<0},en.precision=function(n){return arguments.length?(v=sn(g,rn=n*n),fn()):d(rn)},en.fitExtent=function(n,t){return an(en,n,t)},en.fitSize=function(n,t){return function(n,t,i){return an(n,[[0,0],t],i)}(en,n,t)},en.fitWidth=function(n,t){return function(n,t,i){return ln(n,(function(i){var r=+t,e=r/(i[1][0]-i[0][0]),o=(r-e*(i[1][0]+i[0][0]))/2,u=-e*i[0][1];n.scale(150*e).translate([o,u])}),i)}(en,n,t)},en.fitHeight=function(n,t){return function(n,t,i){return ln(n,(function(i){var r=+t,e=r/(i[1][1]-i[0][1]),o=-e*i[0][0],u=(r-e*(i[1][1]+i[0][1]))/2;n.scale(150*e).translate([o,u])}),i)}(en,n,t)},function(){return r=t.apply(this,arguments),en.invert=r.invert&&on,un()}}((function(){return Bt}))()).scale(249.5).clipAngle(90+n),Wt=function(n,t){let i,r,e=3,o=4.5;function u(n){return n&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),U(n,i(r))),r.result()}return u.area=function(n){return U(n,i(kn)),kn.result()},u.measure=function(n){return U(n,i(at)),at.result()},u.bounds=function(n){return U(n,i(un)),un.result()},u.centroid=function(n){return U(n,i(Kn)),Kn.result()},u.projection=function(t){return arguments.length?(i=null==t?(n=null,A):(n=t).stream,u):n},u.context=function(n){return arguments.length?(r=null==n?(t=null,new ht(e)):new Qn(t=n),"function"!=typeof o&&r.pointRadius(o),u):t},u.pointRadius=function(n){return arguments.length?(o="function"==typeof n?n:(r.pointRadius(+n),+n),u):o},u.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return null===t&&(r=new ht(e)),u},u.projection(n).digits(e).context(t)}().projection(Vt).context(Ft),qt=()=>{Vt.fitSize([Gt,Ot],Xt),Vt.scale(180),Vt.rotate(At),Ft.clearRect(0,0,Gt,Ot);for(let n=0;n<Xt.features.length;n+=1){const t=Xt.features[n];Ft.beginPath(),Ft.lineWidth=.45,Ft.strokeStyle="#fff",Ft.fillStyle=Yt.clickedLocation&&zt(t,Yt.clickedLocation)?"blue":"#ccc",Wt(t),Ft.stroke(),Ft.fill()}};var Bt;let Dt;const Ht=()=>{Dt=Date.now()},It=n=>{if(Dt){const t=Math.round(.4*n.movementX),i=Math.round(.4*n.movementY),[r,e]=At;At=[(r+t)%360,(e-i)%360],qt()}};function Zt(n){if(!Dt||Date.now()-Dt<150){const t=function(n,t){if(n=function(n){let t;for(;t=n.sourceEvent;)n=t;return n}(n),void 0===t&&(t=n.currentTarget),t){var i=t.ownerSVGElement||t;if(i.createSVGPoint){var r=i.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var e=t.getBoundingClientRect();return[n.clientX-e.left-t.clientLeft,n.clientY-e.top-t.clientTop]}}return[n.pageX,n.pageY]}(n,this);Yt.clickedLocation=Vt.invert(t),qt()}Dt=null}(async()=>{const n=await fetch("https://gist.githubusercontent.com/artemplv/be8ebf292a4433944f3948b06732a6cc/raw/cd2e417144d0d1b0fd10888b4de01b373ad49d5e/110m_countries.json");Xt=await n.json(),Tt.addEventListener("mousedown",Ht),Tt.addEventListener("mouseup",Zt),Tt.addEventListener("mousemove",It),qt()})()}()}();
//# sourceMappingURL=main.js.map