{"version":3,"file":"main.js","mappings":"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","sources":["webpack://currency-converter/./src/scripts/monkeyPatching.js","webpack://currency-converter/webpack/bootstrap","webpack://currency-converter/./node_modules/d3-geo/src/math.js","webpack://currency-converter/./node_modules/d3-geo/src/noop.js","webpack://currency-converter/./node_modules/d3-geo/src/clip/buffer.js","webpack://currency-converter/./node_modules/d3-geo/src/pointEqual.js","webpack://currency-converter/./node_modules/d3-geo/src/clip/rejoin.js","webpack://currency-converter/./node_modules/d3-array/src/fsum.js","webpack://currency-converter/./node_modules/d3-geo/src/cartesian.js","webpack://currency-converter/./node_modules/d3-geo/src/polygonContains.js","webpack://currency-converter/./node_modules/d3-array/src/merge.js","webpack://currency-converter/./node_modules/d3-geo/src/clip/index.js","webpack://currency-converter/./node_modules/d3-geo/src/clip/antimeridian.js","webpack://currency-converter/./node_modules/d3-geo/src/circle.js","webpack://currency-converter/./node_modules/d3-geo/src/clip/rectangle.js","webpack://currency-converter/./node_modules/d3-geo/src/compose.js","webpack://currency-converter/./node_modules/d3-geo/src/identity.js","webpack://currency-converter/./node_modules/d3-geo/src/rotation.js","webpack://currency-converter/./node_modules/d3-geo/src/transform.js","webpack://currency-converter/./node_modules/d3-geo/src/stream.js","webpack://currency-converter/./node_modules/d3-geo/src/path/bounds.js","webpack://currency-converter/./node_modules/d3-geo/src/projection/fit.js","webpack://currency-converter/./node_modules/d3-geo/src/projection/resample.js","webpack://currency-converter/./node_modules/d3-geo/src/projection/index.js","webpack://currency-converter/./node_modules/d3-geo/src/projection/azimuthal.js","webpack://currency-converter/./node_modules/d3-geo/src/clip/circle.js","webpack://currency-converter/./node_modules/d3-geo/src/clip/line.js","webpack://currency-converter/./node_modules/d3-geo/src/projection/orthographic.js","webpack://currency-converter/./node_modules/d3-geo/src/path/area.js","webpack://currency-converter/./node_modules/d3-geo/src/path/centroid.js","webpack://currency-converter/./node_modules/d3-geo/src/path/context.js","webpack://currency-converter/./node_modules/d3-geo/src/path/measure.js","webpack://currency-converter/./node_modules/d3-geo/src/path/string.js","webpack://currency-converter/./node_modules/d3-geo/src/length.js","webpack://currency-converter/./node_modules/d3-geo/src/distance.js","webpack://currency-converter/./node_modules/d3-geo/src/contains.js","webpack://currency-converter/./node_modules/d3-selection/src/pointer.js","webpack://currency-converter/./node_modules/d3-selection/src/sourceEvent.js","webpack://currency-converter/./src/scripts/handleTooltip.js","webpack://currency-converter/./src/scripts/selectedCountries.js","webpack://currency-converter/./src/scripts/map.js","webpack://currency-converter/./src/scripts/handleExchange.js","webpack://currency-converter/./src/scripts/utils/index.js","webpack://currency-converter/./src/scripts/exchangeRequests.js","webpack://currency-converter/./src/scripts/inputs.js","webpack://currency-converter/./src/index.js","webpack://currency-converter/./node_modules/d3-geo/src/path/index.js"],"sourcesContent":["function getChildren(node, skipMe) {\n  const children = [];\n  // eslint-disable-next-line no-param-reassign\n  for (; node; node = node.nextSibling) {\n    if (node.nodeType === 1 && node !== skipMe) {\n      children.push(node);\n    }\n  }\n  return children;\n}\n\nHTMLElement.prototype.siblings = function () {\n  return getChildren(this.parentNode.firstChild, this);\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import {Adder} from \"d3-array\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, epsilon2, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nfunction longitude(point) {\n  return abs(point[0]) <= pi ? point[0] : sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  var sum = new Adder();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the points meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon2) ^ (winding & 1);\n}\n","function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0, 0], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygons polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","export default x => x;\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n  return [lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    lambda += deltaLambda;\n    if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n    return [lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  if (!alpha) return scaleTranslate(k, dx, dy, sx, sy);\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = scaleTranslateRotate(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n        if (k === Infinity) return [2, 0];\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1  n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {Adder} from \"d3-array\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = new Adder(),\n    areaRingSum = new Adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum = new Adder();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum = new Adder();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import {Adder} from \"d3-array\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = new Adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum = new Adder();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","// Simple caching for constant-radius points.\nlet cacheDigits, cacheAppend, cacheRadius, cacheCircle;\n\nexport default class PathString {\n  constructor(digits) {\n    this._append = digits == null ? append : appendRound(digits);\n    this._radius = 4.5;\n    this._ = \"\";\n  }\n  pointRadius(_) {\n    this._radius = +_;\n    return this;\n  }\n  polygonStart() {\n    this._line = 0;\n  }\n  polygonEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line === 0) this._ += \"Z\";\n    this._point = NaN;\n  }\n  point(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._append`M${x},${y}`;\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._append`L${x},${y}`;\n        break;\n      }\n      default: {\n        this._append`M${x},${y}`;\n        if (this._radius !== cacheRadius || this._append !== cacheAppend) {\n          const r = this._radius;\n          const s = this._;\n          this._ = \"\"; // stash the old string so we can cache the circle path fragment\n          this._append`m0,${r}a${r},${r} 0 1,1 0,${-2 * r}a${r},${r} 0 1,1 0,${2 * r}z`;\n          cacheRadius = r;\n          cacheAppend = this._append;\n          cacheCircle = this._;\n          this._ = s;\n        }\n        this._ += cacheCircle;\n        break;\n      }\n    }\n  }\n  result() {\n    const result = this._;\n    this._ = \"\";\n    return result.length ? result : null;\n  }\n}\n\nfunction append(strings) {\n  let i = 1;\n  this._ += strings[0];\n  for (const j = strings.length; i < j; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  const d = Math.floor(digits);\n  if (!(d >= 0)) throw new RangeError(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  if (d !== cacheDigits) {\n    const k = 10 ** d;\n    cacheDigits = d;\n    cacheAppend = function append(strings) {\n      let i = 1;\n      this._ += strings[0];\n      for (const j = strings.length; i < j; ++i) {\n        this._ += Math.round(arguments[i] * k) / k + strings[i];\n      }\n    };\n  }\n  return cacheAppend;\n}\n","import {Adder} from \"d3-array\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar lengthSum,\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum = new Adder();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import length from \"./length.js\";\n\nvar coordinates = [null, null],\n    object = {type: \"LineString\", coordinates: coordinates};\n\nexport default function(a, b) {\n  coordinates[0] = a;\n  coordinates[1] = b;\n  return length(object);\n}\n","import {default as polygonContains} from \"./polygonContains.js\";\nimport {default as distance} from \"./distance.js\";\nimport {epsilon2, radians} from \"./math.js\";\n\nvar containsObjectType = {\n  Feature: function(object, point) {\n    return containsGeometry(object.geometry, point);\n  },\n  FeatureCollection: function(object, point) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) if (containsGeometry(features[i].geometry, point)) return true;\n    return false;\n  }\n};\n\nvar containsGeometryType = {\n  Sphere: function() {\n    return true;\n  },\n  Point: function(object, point) {\n    return containsPoint(object.coordinates, point);\n  },\n  MultiPoint: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPoint(coordinates[i], point)) return true;\n    return false;\n  },\n  LineString: function(object, point) {\n    return containsLine(object.coordinates, point);\n  },\n  MultiLineString: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsLine(coordinates[i], point)) return true;\n    return false;\n  },\n  Polygon: function(object, point) {\n    return containsPolygon(object.coordinates, point);\n  },\n  MultiPolygon: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPolygon(coordinates[i], point)) return true;\n    return false;\n  },\n  GeometryCollection: function(object, point) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) if (containsGeometry(geometries[i], point)) return true;\n    return false;\n  }\n};\n\nfunction containsGeometry(geometry, point) {\n  return geometry && containsGeometryType.hasOwnProperty(geometry.type)\n      ? containsGeometryType[geometry.type](geometry, point)\n      : false;\n}\n\nfunction containsPoint(coordinates, point) {\n  return distance(coordinates, point) === 0;\n}\n\nfunction containsLine(coordinates, point) {\n  var ao, bo, ab;\n  for (var i = 0, n = coordinates.length; i < n; i++) {\n    bo = distance(coordinates[i], point);\n    if (bo === 0) return true;\n    if (i > 0) {\n      ab = distance(coordinates[i], coordinates[i - 1]);\n      if (\n        ab > 0 &&\n        ao <= ab &&\n        bo <= ab &&\n        (ao + bo - ab) * (1 - Math.pow((ao - bo) / ab, 2)) < epsilon2 * ab\n      )\n        return true;\n    }\n    ao = bo;\n  }\n  return false;\n}\n\nfunction containsPolygon(coordinates, point) {\n  return !!polygonContains(coordinates.map(ringRadians), pointRadians(point));\n}\n\nfunction ringRadians(ring) {\n  return ring = ring.map(pointRadians), ring.pop(), ring;\n}\n\nfunction pointRadians(point) {\n  return [point[0] * radians, point[1] * radians];\n}\n\nexport default function(object, point) {\n  return (object && containsObjectType.hasOwnProperty(object.type)\n      ? containsObjectType[object.type]\n      : containsGeometry)(object, point);\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","/* eslint-disable no-param-reassign */\nconst handleTooltip = {\n  hide(tooltip) {\n    tooltip.style.visibility = 'hidden';\n  },\n  show(tooltip, country) {\n    const {\n      name,\n      countryCode,\n      currencyCode,\n      currencyName = '',\n      currencySymbol = '',\n    } = country;\n\n    const title = document.createElement('p');\n    const countryFlag = document.createElement('span');\n    const currencyCodeElement = document.createElement('p');\n    const currencyNameElement = document.createElement('p');\n\n    const flagCode = countryCode?.toLowerCase() || 'xx';\n\n    countryFlag.className = `fi fi-${flagCode}`;\n    title.className = 'tooltip-title';\n    title.append(countryFlag, name);\n\n    currencyCodeElement.innerText = `Currency code: ${currencyCode}`;\n    currencyCodeElement.className = 'tooltip-info';\n    currencyNameElement.innerText = `${currencyName} ${currencySymbol}`;\n    currencyNameElement.className = 'tooltip-info';\n\n    tooltip.replaceChildren(title, currencyCodeElement, currencyNameElement);\n    tooltip.style.visibility = 'visible';\n  },\n};\n\nexport default handleTooltip;\n","const noop = () => {};\n\nclass SelectedCountries {\n  constructor(max = 5, onChange = noop) {\n    this.countries = {};\n    this.length = 0;\n    this.max = max;\n    this.onChange = onChange;\n  }\n\n  get list() {\n    return Object.values(this.countries);\n  }\n\n  get countryCodes() {\n    return Object.keys(this.countries);\n  }\n\n  isSelected(countryCode) {\n    return !!this.countries[countryCode];\n  }\n\n  add(country) {\n    const { countryCode } = country;\n\n    if (this.countries[countryCode] || this.isFull()) {\n      return this.length;\n    }\n\n    this.countries[countryCode] = country;\n    this.length += 1;\n\n    this.onChange(this.list);\n\n    return this.length;\n  }\n\n  remove(countryCode) {\n    if (!this.countries[countryCode]) {\n      return this.length;\n    }\n\n    delete this.countries[countryCode];\n    this.length -= 1;\n\n    this.onChange(this.list);\n\n    return this.length;\n  }\n\n  isFull() {\n    return this.length >= this.max;\n  }\n}\n\nexport default SelectedCountries;\n","import {\n  geoOrthographic,\n  geoPath,\n  geoContains,\n} from 'd3-geo';\n\nimport { pointer } from 'd3-selection';\n\nimport handleTooltip from './handleTooltip';\nimport SelectedCountries from './selectedCountries';\n\nconst MAP_CONSTANTS = {\n  defaultScale: 250,\n  maxScale: 1800,\n  minScale: 130,\n  defaultRotation: [0, 0],\n  rotationModifier: 0.3,\n  // eslint-disable-next-line max-len\n  geojsonUrl: 'https://gist.githubusercontent.com/artemplv/be8ebf292a4433944f3948b06732a6cc/raw/95e446a098596eb51cc9734e8b9e12ec8e1781d9/110m_countries.json',\n  defaultFillColor: '#fff',\n  selectedFillColor: '#ff571b',\n  hoveredFillColor: 'rgb(255, 240, 72)',\n  strokeColor: '#cbcbcb',\n  strokeLineWidth: 0.45,\n  outlineColor: '#ccc',\n  oceanFillColor: 'rgb(14, 90, 197)',\n};\n\nclass WorldMap {\n  constructor(mapCanvas, tooltip, onCountriesChange) {\n    this.canvas = mapCanvas;\n    this.ctx = this.canvas.getContext('2d');\n    this.width = this.canvas.offsetWidth;\n    this.height = this.canvas.offsetHeight;\n    //\n    this.tooltip = tooltip;\n    //\n    this.scale = MAP_CONSTANTS.defaultScale;\n    this.rotation = MAP_CONSTANTS.defaultRotation;\n    //\n    this.geojson = {};\n    this.state = {\n      clickedLocation: null,\n      hoveredLocation: null,\n      selectedCountries: new SelectedCountries(5, onCountriesChange),\n    };\n    //\n    this.dragStartedTime = null;\n    //\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n    this.handleZoom = this.handleZoom.bind(this);\n    //\n    this.projection = geoOrthographic();\n    this.geoGenerator = geoPath().projection(this.projection).context(this.ctx);\n    //\n    this.canvas.addEventListener('mousedown', this.handleMouseDown);\n    this.canvas.addEventListener('mouseup', this.handleMouseUp);\n    this.canvas.addEventListener('mousemove', this.handleMouseMove);\n    this.canvas.addEventListener('wheel', this.handleZoom);\n  }\n\n  get clickedLocation() {\n    return this.state.clickedLocation;\n  }\n\n  set clickedLocation(location) {\n    this.state.clickedLocation = location;\n  }\n\n  get hoveredLocation() {\n    return this.state.hoveredLocation;\n  }\n\n  set hoveredLocation(location) {\n    this.state.hoveredLocation = location;\n  }\n\n  update() {\n    const {\n      projection,\n      ctx,\n      width,\n      height,\n      geojson,\n      scale,\n      rotation,\n      geoGenerator,\n      clickedLocation,\n      hoveredLocation,\n      tooltip,\n      state,\n    } = this;\n\n    // clear canvas and tooltip\n    ctx.clearRect(0, 0, width, height);\n    handleTooltip.hide(tooltip);\n\n    // prepare projection\n    projection.fitSize([width, height], geojson);\n    projection.scale(scale);\n    projection.rotate(rotation);\n\n    // draw globe outline and fill oceans\n    ctx.beginPath();\n    ctx.strokeStyle = MAP_CONSTANTS.outlineColor;\n    ctx.fillStyle = MAP_CONSTANTS.oceanFillColor;\n    geoGenerator({ type: 'Sphere' });\n    ctx.stroke();\n    ctx.fill();\n\n    // iterate over countries and draw them\n    for (let i = 0; i < geojson.features.length; i += 1) {\n      const d = geojson.features[i];\n\n      ctx.beginPath();\n\n      ctx.lineWidth = MAP_CONSTANTS.strokeLineWidth;\n      ctx.strokeStyle = MAP_CONSTANTS.strokeColor;\n      ctx.fillStyle = MAP_CONSTANTS.defaultFillColor;\n\n      if (hoveredLocation && geoContains(d, hoveredLocation)) {\n        ctx.fillStyle = MAP_CONSTANTS.hoveredFillColor;\n        handleTooltip.show(tooltip, d.properties);\n      }\n\n      if (state.selectedCountries.isSelected(d.properties.countryCode)) {\n        ctx.fillStyle = MAP_CONSTANTS.selectedFillColor;\n      }\n\n      if (clickedLocation && geoContains(d, clickedLocation)) {\n        // add or remove country from list of selected countries and choose the right color\n        if (state.selectedCountries.isSelected(d.properties.countryCode)) {\n          // remove country from selected\n          state.selectedCountries.remove(d.properties.countryCode);\n          ctx.fillStyle = MAP_CONSTANTS.defaultFillColor;\n        } else {\n          // add country to selected\n          state.selectedCountries.add(d.properties);\n          ctx.fillStyle = MAP_CONSTANTS.selectedFillColor;\n        }\n\n        this.clickedLocation = null;\n      }\n\n      geoGenerator(d);\n\n      ctx.stroke();\n      ctx.fill();\n    }\n  }\n\n  handleMouseDown() {\n    this.dragStartedTime = Date.now();\n  }\n\n  handleMouseMove(event) {\n    const {\n      dragStartedTime,\n      scale,\n      rotation,\n    } = this;\n\n    if (dragStartedTime) {\n      const modifier = scale > 800 ? 0.1 : MAP_CONSTANTS.rotationModifier;\n\n      const dx = event.movementX * modifier;\n      const dy = event.movementY * modifier;\n      const [x, y] = rotation;\n\n      this.rotation = [(x + dx) % 360, (y - dy) % 360];\n    } else {\n      const pos = pointer(event, this.canvas);\n      this.hoveredLocation = this.projection.invert(pos);\n    }\n\n    this.update();\n  }\n\n  handleMouseUp(event) {\n    const {\n      dragStartedTime,\n      projection,\n    } = this;\n\n    if (!dragStartedTime || (Date.now() - dragStartedTime < 150)) {\n      const pos = pointer(event, this.canvas);\n      this.clickedLocation = projection.invert(pos);\n\n      this.update();\n    }\n\n    this.dragStartedTime = null;\n  }\n\n  handleZoom(event) {\n    event.preventDefault();\n\n    if (event.ctrlKey) {\n      this.scale -= event.deltaY * 0.5;\n\n      if (this.scale > MAP_CONSTANTS.maxScale) {\n        this.scale = MAP_CONSTANTS.maxScale;\n      }\n      if (this.scale < MAP_CONSTANTS.minScale) {\n        this.scale = MAP_CONSTANTS.minScale;\n      }\n\n      this.update();\n    }\n  }\n\n  async initialize() {\n    const response = await fetch(MAP_CONSTANTS.geojsonUrl);\n    this.geojson = await response.json();\n\n    this.update();\n  }\n}\n\nexport default WorldMap;\n","import { exchangeAll } from './exchangeRequests';\nimport { debounce } from './utils';\n\nconst handleExchange = async (event) => {\n  const sourceCurrencyInput = event.target;\n  const sourceCurrencyCode = sourceCurrencyInput.dataset.currencyCode;\n  const amount = sourceCurrencyInput.value;\n\n  const targetCurrencyElements = sourceCurrencyInput.parentNode.siblings();\n\n  if (targetCurrencyElements.length < 1 || Number(amount) <= 0 || !amount) {\n    return;\n  }\n\n  const targetCurrencyCodes = targetCurrencyElements.map((element) => element.dataset.currencyCode);\n\n  const requestData = targetCurrencyCodes.map((code) => ({\n    from: sourceCurrencyCode,\n    to: code,\n    amount,\n  }));\n\n  const exchangeResults = await exchangeAll(requestData);\n\n  targetCurrencyElements.forEach((element, idx) => {\n    // access <input/> element\n    element.lastChild.value = exchangeResults[idx]; // eslint-disable-line no-param-reassign\n  });\n};\n\nexport default debounce(handleExchange, 600);\n","/* eslint-disable import/prefer-default-export */\nfunction debounce(callback, ms = 100) {\n  let lastCall = 0;\n\n  const delayedCallback = (...args) => {\n    const timeSinceLastCall = Date.now() - lastCall;\n    if (timeSinceLastCall >= ms) callback(...args);\n  };\n\n  return (...args) => {\n    lastCall = Date.now();\n    window.setTimeout(() => delayedCallback(...args), ms);\n  };\n}\n\nexport {\n  debounce,\n};\n","const apiKey = process.env.currency_api_key;\n\nconst baseUrl = `https://v6.exchangerate-api.com/v6/${apiKey}/pair`;\n\nconst exchange = async (from, to, amount = 1) => {\n  const url = `${baseUrl}/${from}/${to}/${amount}`;\n\n  const responseRaw = await fetch(url);\n  const response = await responseRaw.json();\n\n  return response.conversion_result;\n};\n\nconst exchangeAll = async (items) => Promise.all(items.map(({ from, to, amount }) => exchange(from, to, amount)));\n\nexport {\n  exchange,\n  exchangeAll,\n};\n\nexport default exchangeAll;\n","import handleExchange from './handleExchange';\n\nconst inputsContainer = document.querySelector('#inputs-container');\n\nconst createInput = (country, index) => {\n  const wrapper = document.createElement('div');\n  const currencyInput = document.createElement('input');\n  const currencyLabel = document.createElement('label');\n  const countryFlag = document.createElement('span');\n\n  currencyInput.value = 0.0;\n  currencyInput.type = 'number';\n  currencyInput.id = `currency-input-${country.currencyCode}-${index}`;\n  currencyInput.className = 'currency-input';\n  currencyInput.dataset.currencyCode = country.currencyCode;\n\n  let flagCode;\n  if (country.currencyCode === 'EUR') {\n    flagCode = 'eu';\n  } else if (country.currencyCode === 'USD') {\n    flagCode = 'us';\n  } else {\n    flagCode = country.countryCode?.toLowerCase() || 'xx';\n  }\n\n  currencyLabel.setAttribute('for', `currency-input-${country.currencyCode}-${index}`);\n  countryFlag.className = `fi fi-${flagCode}`;\n  currencyLabel.append(country.currencyCode, countryFlag);\n\n  wrapper.className = 'currency-input-wrapper';\n  wrapper.dataset.currencyCode = country.currencyCode;\n  wrapper.dataset.currencyName = country.currencyName || 'N/A';\n  wrapper.dataset.currencySymbol = country.currencySymbol || '';\n\n  wrapper.append(currencyLabel, currencyInput);\n\n  return wrapper;\n};\n\n// eslint-disable-next-line import/prefer-default-export\nexport const displayInputs = (countries) => {\n  const placeholderMessageContainer = document.querySelector('.placeholder-container');\n\n  if (countries.length > 0) {\n    placeholderMessageContainer.classList.add('hidden');\n  } else {\n    placeholderMessageContainer.classList.remove('hidden');\n  }\n\n  const form = document.createElement('form');\n\n  form.addEventListener('input', handleExchange);\n\n  for (let i = 0; i < countries.length; i += 1) {\n    const element = createInput(countries[i], i);\n\n    form.appendChild(element);\n  }\n\n  inputsContainer.replaceChildren(form);\n};\n","import './scripts/monkeyPatching';\nimport WorldMap from './scripts/map';\nimport { displayInputs } from './scripts/inputs';\n\nconst mapCanvas = document.querySelector('#map');\nconst tooltipCanvas = document.querySelector('#map-tooltip');\n\nconst map = new WorldMap(mapCanvas, tooltipCanvas, displayInputs);\nmap.initialize();\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  let digits = 3,\n      pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    if (!arguments.length) return projection;\n    projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream;\n    return path;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString(digits)) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  path.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) digits = null;\n    else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    if (context === null) contextStream = new PathString(digits);\n    return path;\n  };\n\n  return path.projection(projection).digits(digits).context(context);\n}\n"],"names":["HTMLElement","prototype","siblings","node","skipMe","children","nextSibling","nodeType","push","getChildren","this","parentNode","firstChild","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","epsilon","epsilon2","pi","Math","PI","halfPi","quarterPi","tau","abs","atan","atan2","cos","ceil","exp","floor","hypot","log","pow","sin","sign","x","sqrt","asin","noop","line","lines","point","y","m","lineStart","lineEnd","rejoin","length","pop","concat","shift","result","a","b","Intersection","points","other","entry","z","o","e","v","n","p","segments","compareIntersection","startInside","interpolate","stream","i","subject","clip","forEach","segment","p0","p1","pointEqual","sort","start","current","isSubject","array","tan","Adder","constructor","_partials","Float64Array","_n","add","j","hi","lo","valueOf","spherical","cartesian","lambda","phi","cosPhi","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","k","cartesianNormalizeInPlace","d","l","longitude","polygon","sinPhi","normal","angle","winding","sum","ring","point0","lambda0","phi0","sinPhi0","cosPhi0","lambda1","sinPhi1","cosPhi1","point1","phi1","delta","absDelta","antimeridian","arc","intersection","phiArc","merge","arrays","Array","from","flatten","pointVisible","clipLine","sink","ringBuffer","ringSink","polygonStarted","polygonStart","pointRing","ringStart","ringEnd","polygonEnd","polygonContains","sphere","pointLine","clean","ringSegments","filter","validSegment","NaN","sign0","sign1","sinLambda0Lambda1","clipAntimeridianIntersect","to","direction","circleRadius","cosRadius","radius","acos","clipMax","clipMin","compose","invert","rotationIdentity","round","forwardRotationLambda","deltaLambda","rotationLambda","rotation","rotationPhiGamma","deltaPhi","deltaGamma","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","transformer","methods","s","TransformStream","key","streamGeometry","geometry","streamGeometryType","hasOwnProperty","type","streamObjectType","Feature","object","FeatureCollection","features","Sphere","Point","coordinates","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","x0","Infinity","y0","x1","y1","boundsStream","bounds","fit","projection","fitBounds","clipExtent","scale","translate","fitExtent","extent","w","h","min","maxDepth","cosMinDistance","project","delta2","resampleLineTo","a0","b0","c0","a1","b1","c1","depth","dx","dy","d2","c","phi2","lambda2","x2","y2","dx2","dy2","dz","lambda00","x00","y00","a00","b00","c00","resampleStream","linePoint","ringPoint","resampleNone","transformRadians","scaleTranslateRotate","sx","sy","alpha","transform","scaleTranslate","cosAlpha","sinAlpha","ai","bi","ci","fi","projectAt","rotate","projectResample","projectTransform","projectRotateTransform","cache","cacheStream","theta","preclip","postclip","identity","recenter","center","apply","resample","reset","r","transformRotate","_","arguments","clipAngle","cr","smallRadius","notHemisphere","visible","intersect","two","n1","n2","n2n2","n1n2","determinant","c2","n1xn2","A","u","uu","t2","t","q","polar","q1","code","v0","v00","point2","t0","t1","sinRadius","step","circleStream","corner","comparePoint","ca","cb","x__","y__","v__","x_","y_","v_","first","activeStream","bufferStream","clipStream","polygonInside","cleanInside","max","ax","ay","clipRectangle","reflectX","reflectY","precision","fitSize","size","fitWidth","width","fitHeight","height","projectionMutator","orthographicRaw","sc","cc","areaSum","areaRingSum","areaStream","areaRingStart","areaRingEnd","area","areaPointFirst","areaPoint","X0","Y0","Z0","X1","Y1","Z1","X2","Y2","Z2","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroid","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","context","_context","_radius","pointRadius","_line","_point","closePath","moveTo","lineTo","lengthRing","lengthSum","lengthStream","lengthPointFirst","lengthPoint","cacheDigits","cacheAppend","cacheRadius","cacheCircle","PathString","digits","_append","append","RangeError","strings","appendRound","lengthLineEnd","cosDelta","containsObjectType","containsGeometry","containsGeometryType","containsPoint","containsLine","containsPolygon","distance","ao","bo","ab","map","ringRadians","pointRadians","event","sourceEvent","currentTarget","svg","ownerSVGElement","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","left","clientLeft","top","clientTop","pageX","pageY","hide","tooltip","style","visibility","show","country","name","countryCode","currencyCode","currencyName","currencySymbol","title","document","createElement","countryFlag","currencyCodeElement","currencyNameElement","flagCode","toLowerCase","className","innerText","replaceChildren","onChange","countries","list","Object","values","countryCodes","keys","isSelected","isFull","remove","MAP_CONSTANTS","callback","ms","lastCall","_len","args","_key","Date","now","window","setTimeout","delayedCallback","async","sourceCurrencyInput","target","sourceCurrencyCode","dataset","amount","value","targetCurrencyElements","Number","requestData","element","exchangeResults","Promise","all","items","_ref","url","responseRaw","fetch","json","conversion_result","exchange","exchangeAll","idx","lastChild","inputsContainer","querySelector","createInput","index","wrapper","currencyInput","currencyLabel","id","_country$countryCode","setAttribute","mapCanvas","onCountriesChange","canvas","ctx","getContext","offsetWidth","offsetHeight","geojson","state","clickedLocation","hoveredLocation","selectedCountries","SelectedCountries","dragStartedTime","handleMouseDown","bind","handleMouseMove","handleMouseUp","handleZoom","geoGenerator","projectionStream","contextStream","path","measure","geoPath","addEventListener","location","update","clearRect","handleTooltip","beginPath","strokeStyle","fillStyle","stroke","fill","lineWidth","geoContains","properties","modifier","movementX","movementY","pos","pointer","preventDefault","ctrlKey","deltaY","response","placeholderMessageContainer","classList","form","handleExchange","appendChild","initialize"],"sourceRoot":""}